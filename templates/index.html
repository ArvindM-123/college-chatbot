<form id="chat-form">
    <input
        type="text"
        id="textInput"
        name="msg"
        placeholder="Type your message..."
        autocomplete="off"
        required
    />
    <button type="submit">Send</button>
</form>
<script>
const form = document.getElementById("chat-form");
const input = document.getElementById("textInput");

form.addEventListener("submit", function (e) {
    e.preventDefault(); // ðŸ”¥ THIS FIXES IT

    const msg = input.value.trim();
    if (msg === "") return;

    addUserMessage(msg);
    input.value = "";

    const formData = new FormData();
    formData.append("msg", msg);

    fetch("/get", {
        method: "POST",
        body: formData
    })
    .then(res => res.text())
    .then(data => {
        addBotMessage(data);
    })
    .catch(() => {
        addBotMessage("Server error. Try again.");
    });
});

function addUserMessage(msg) {
    console.log("User:", msg);
}

function addBotMessage(msg) {
    console.log("Bot:", msg);
}
</script>
